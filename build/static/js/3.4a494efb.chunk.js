(this["webpackJsonpyour-progress"]=this["webpackJsonpyour-progress"]||[]).push([[3],{36:function(e,t,a){"use strict";var n=a(38),s=a.n(n),c=a(3);t.a=function(e){var t=e.name,a=e.type,n=e.event;return Object(c.jsx)("div",{className:s.a.main,children:Object(c.jsxs)("button",{className:"btn btn-outline-primary",type:a,onClick:n,children:[Object(c.jsx)("i",{className:e.emo}),t]})})}},37:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,s=!1,c=void 0;try{for(var r,i=e[Symbol.iterator]();!(n=(r=i.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(o){s=!0,c=o}finally{try{n||null==i.return||i.return()}finally{if(s)throw c}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return s}))},38:function(e,t,a){e.exports={main:"Button_main__2cf7G"}},39:function(e,t,a){e.exports={main:"ProgressItem_main__l-R0Z",card:"ProgressItem_card__1Ft8t",item:"ProgressItem_item__VqBWr"}},40:function(e,t,a){e.exports={card:"TaskCard_card__2LJdf",backdrop:"TaskCard_backdrop__3HH6J",modal:"TaskCard_modal__3pNUp",header:"TaskCard_header__2uKGK",content:"TaskCard_content__1PUNK",form:"TaskCard_form__1yYxV",actions:"TaskCard_actions__3WQJP"}},41:function(e,t,a){e.exports={main:"ProgressItemOperation_main__Y-dXi",operation:"ProgressItemOperation_operation__q2j8B"}},42:function(e,t,a){e.exports={card:"MessageModal_card__1M8mm",backdrop:"MessageModal_backdrop__2W31N",modal:"MessageModal_modal__2g7Ht",header:"MessageModal_header__4310p",content:"MessageModal_content__aSzfh",message:"MessageModal_message__3oMEp",form:"MessageModal_form__2Opu2",actions:"MessageModal_actions__DV91P"}},43:function(e,t,a){e.exports={card:"ConfirmationModal_card__K5BPK",backdrop:"ConfirmationModal_backdrop__YAHJt",modal:"ConfirmationModal_modal__1lfTy",header:"ConfirmationModal_header__10Fj5",content:"ConfirmationModal_content__26xhu",form:"ConfirmationModal_form__PxP9t",message:"ConfirmationModal_message__3SH7m",actions:"ConfirmationModal_actions__QXYl7"}},44:function(e,t,a){e.exports={main:"ProgressList_main__fDZim",cardUl:"ProgressList_cardUl__2kJ6b",list:"ProgressList_list__281CX"}},45:function(e,t,a){e.exports={title_main:"Layout_title_main__29B9l"}},46:function(e,t,a){e.exports={main:"ProgressAdd_main__1VIXr",button:"ProgressAdd_button__1l09r",actions:"ProgressAdd_actions__kJ_ni"}},52:function(e,t,a){"use strict";a.r(t);var n=a(39),s=a.n(n),c=a(37),r=a(0),i=a(36),o=a(40),l=a.n(o),d=a(11),j=a.n(d),m=a(3),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:"",title:"",startDate:"",endDate:""},t=Object(r.useState)(!1),a=Object(c.a)(t,2),n=a[0],s=a[1],o=Object(r.useState)(""),d=Object(c.a)(o,2),u=d[0],b=d[1],h=e,O={id:e.id,title:e.title,startDate:e.startDate,endDate:e.endDate},p=function(e){switch(e.target.name){case"title":O.title=e.target.value;break;case"startDate":O.startDate=e.target.value;break;case"endDate":O.endDate=e.target.value}},f=function(){return O.title.length<1?(b("The title can not be empty!"),s(!0),!1):O.startDate>O.endDate?(b("The Start Date must be early than End Dte!"),s(!0),!1):!(new Date(O.endDate)<Date.now())||(b("The End Date must be later than today!"),s(!0),!1)},x=function(){e.changeModalHandler((function(e){return!e}))},_=function(){f()&&(console.log(12321),e.confirmHandle(O))},g=function(e){return Object(m.jsxs)("div",{className:l.a.card,children:[Object(m.jsx)("div",{className:l.a.backdrop}),Object(m.jsxs)("div",{className:l.a.modal,id:"modal",children:[Object(m.jsx)("div",{className:l.a.header,children:Object(m.jsxs)("h2",{children:[e.action," Task"]})}),Object(m.jsx)("div",{className:l.a.content,children:Object(m.jsxs)("form",{className:l.a.form,children:[Object(m.jsx)("label",{className:"my-2",children:"Title: "}),Object(m.jsx)("input",{type:"text",name:"title",defaultValue:e.task.title,onChange:p}),Object(m.jsx)("label",{className:"my-2",children:"Start Date: "}),Object(m.jsx)("input",{defaultValue:e.task.startDate,name:"startDate",type:"date",onChange:p}),Object(m.jsx)("label",{className:"my-2",children:"End Date: "}),Object(m.jsx)("input",{defaultValue:e.task.endDate,name:"endDate",type:"date",onChange:p})]})}),Object(m.jsxs)("div",{className:l.a.actions,children:[Object(m.jsx)(i.a,{name:"Close",event:x}),Object(m.jsx)(i.a,{name:e.action,event:_})]}),n&&Object(m.jsxs)("div",{className:"alert alert-danger",children:[Object(m.jsx)("strong",{children:"Failed!"})," ",u]})]})]})};return Object(m.jsx)(r.Fragment,{children:j.a.createPortal(Object(m.jsx)(g,{task:h,action:e.action}),document.getElementById("modal"))})},b=a(41),h=a.n(b),O=a(9),p=a(42),f=a.n(p),x=function(e){var t=function(){e.closeHandler(!1)},a=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:f.a.backdrop}),Object(m.jsxs)("div",{className:f.a.modal,children:[Object(m.jsx)("div",{className:f.a.header,children:Object(m.jsx)("h2",{children:e.title})}),Object(m.jsx)("div",{className:f.a.content,children:Object(m.jsx)("h4",{className:f.a.message,children:e.content})}),Object(m.jsx)("div",{className:f.a.actions,children:Object(m.jsx)(i.a,{name:"OK",event:t})})]})]})};return Object(m.jsx)(r.Fragment,{children:j.a.createPortal(Object(m.jsx)(a,{title:e.title,content:e.content}),document.getElementById("message"))})},_=a(43),g=function(e){var t=function(){e.closeHandler(!1)},a=function(){e.yesHandler(),e.closeHandler(!1)},n=function(e){return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:_.backdrop}),Object(m.jsxs)("div",{className:_.modal,children:[Object(m.jsx)("div",{className:_.header,children:Object(m.jsx)("h2",{children:e.title})}),Object(m.jsx)("div",{className:_.content,children:Object(m.jsx)("p",{className:_.message,children:e.content})}),Object(m.jsxs)("div",{className:_.actions,children:[Object(m.jsx)(i.a,{name:"No",event:t}),Object(m.jsx)(i.a,{name:"Yes",event:a})]})]})]})};return Object(m.jsx)(r.Fragment,{children:j.a.createPortal(Object(m.jsx)(n,{title:e.title,content:e.content}),document.getElementById("message"))})},v=function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),n=a[0],s=a[1],o=Object(r.useState)(!1),l=Object(c.a)(o,2),d=l[0],j=l[1],b=Object(r.useState)(!1),p=Object(c.a)(b,2),f=p[0],_=p[1],v=Object(r.useState)({title:"",content:""}),k=Object(c.a)(v,2),y=k[0],N=k[1],D=function(e){return{day:(e=new Date(e)).getDate()<10?"0"+e.getDate():e.getDate(),month:e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,year:e.getFullYear()}},S=function(e){return e.year+"-"+e.month+"-"+e.day},M=D(e.startDate),T=D(e.endDate);M=S(M),T=S(T);var C=localStorage.getItem("token"),w=Object(O.b)();return Object(m.jsx)("div",{className:h.a.main,children:Object(m.jsxs)("div",{className:h.a.operation,children:[f&&Object(m.jsx)(g,{closeHandler:_,yesHandler:function(){console.log("aaa "+e.id),fetch("https://progress-list.herokuapp.com/task/delete-task",{method:"DELETE",mode:"cors",headers:{auth:C,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({_id:e.id})}).then((function(e){return e.json()})).then((function(t){t.state?(N({title:"Success!",content:"You have delete the task: [ "+e.title+" ]"}),j(!0),s(!1),w({type:"taskDeleteOne",task:e.id})):(N({title:"Failed!",content:t.message}),j(!0),s(!1))}))},title:y.title,content:y.content}),d&&Object(m.jsx)(x,{closeHandler:j,title:y.title,content:y.content}),n&&Object(m.jsx)(u,{id:e.id,title:e.title,startDate:M,endDate:T,confirmHandle:function(t){fetch("https://progress-list.herokuapp.com/task/update-task",{method:"POST",mode:"cors",headers:{auth:C,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(t){t.state?(N({title:"Success!",content:"You have updated the task: [ "+e.title+" ]"}),j(!0),s(!1),w({type:"taskUpdateOne",task:e.id,taskNewData:t[0]})):(N({title:"Failed!",content:t.message}),j(!0),s(!1))}))},changeModalHandler:s,action:"Update"}),Object(m.jsx)(i.a,{name:" Edit",event:function(){s(!0)},emo:"fas fa-edit"}),Object(m.jsx)(i.a,{name:" Delete",event:function(){N({title:"Delete!",content:"Would you really like to delete the task: [ "+e.title+" ]?"}),_(!0)},emo:"fas fa-trash-alt"})]})})},k=function(e){var t=new Date(e.startDate),a=new Date(e.endDate),n=new Date(Date.now()),c=e.startDate.toString().slice(0,10)+" To "+e.endDate.toString().slice(0,10),r=Math.ceil((a.getTime()-t.getTime())/864e5),i=Math.ceil((a.getTime()-n.getTime())/864e5),o=Math.max(0,Math.min(100,(r-i+1)/r*100)).toFixed(2).toString()+"%";return Object(m.jsx)("li",{className:"container p-3 my-3",id:e.id,children:Object(m.jsx)("div",{className:"card "+s.a.card,children:Object(m.jsxs)("div",{className:"card-body bg-light",children:[Object(m.jsx)("div",{children:Object(m.jsx)("h4",{className:"card-title my-3",children:e.title})}),Object(m.jsx)("div",{children:Object(m.jsxs)("p",{className:"card-text my-3",children:[Object(m.jsx)("strong",{children:i})," days far from"," ",e.title]})}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"progress  my-3",style:{height:"30px"},children:Object(m.jsx)("div",{className:"progress-bar progress-bar-striped progress-bar-animated",style:{width:o,height:"30px"},children:o})})}),Object(m.jsx)("div",{className:"text-left",children:Object(m.jsx)("p",{className:"card-text",children:c})}),Object(m.jsx)("div",{children:Object(m.jsx)(v,{id:e.id,title:e.title,startDate:e.startDate,endDate:e.endDate})})]})})})},y=a(44),N=a.n(y),D=function(e){var t=e.taskList.map((function(e){return Object(m.jsx)(k,{id:e._id,title:e.title,startDate:e.startDate,endDate:e.endDate},e._id)}));return Object(m.jsxs)("div",{className:N.a.main,children:[Object(m.jsx)("div",{}),Object(m.jsx)("ul",{className:"card-deck "+N.a.cardUl,children:t}),Object(m.jsx)("div",{})]})},S=a(45),M=a.n(S),T=a(46),C=a.n(T),w=function(e){var t=Object(r.useState)(!1),a=Object(c.a)(t,2),n=a[0],s=a[1],i=Object(r.useState)(!1),o=Object(c.a)(i,2),l=o[0],d=o[1],j=localStorage.getItem("token"),b=Object(O.b)(),h=Object(r.useState)({title:"",content:""}),p=Object(c.a)(h,2),f=p[0],_=p[1];return Object(m.jsx)("div",{className:"nav-item mx-auto",children:Object(m.jsxs)("div",{className:C.a.actions,children:[l&&Object(m.jsx)(x,{closeHandler:d,title:f.title,content:f.content}),n&&Object(m.jsx)(u,{action:"Create",confirmHandle:function(e){fetch("https://progress-list.herokuapp.com/task/new-task",{method:"POST",mode:"cors",headers:{auth:j,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){e.state?(b({type:"taskAddOne",task:e}),_({title:"Success!",content:"You have created a new Task: [ "+e.title+" ]"}),d(!0),s(!1)):(_({title:"Failed!",content:e.message}),d(!0),s(!1))}))},changeModalHandler:s}),Object(m.jsxs)("a",{className:"text-white btn-lg btn btn-dark",onClick:function(){s(!0)},children:[Object(m.jsx)("i",{className:"fas fa-plus-circle"})," New Task"]})]})})},P=function(e){var t=Object(O.c)((function(e){return e.username})),a=localStorage.getItem("token"),n=Object(O.b)();return Object(m.jsxs)("nav",{className:"navbar navbar-expand-md bg-dark navbar-dark",children:[Object(m.jsx)("a",{className:"navbar-brand mr-auto",href:"/",children:Object(m.jsx)("i",{class:"fas fa-home"})}),Object(m.jsx)(w,{newTaskAdd:function(e){fetch("https://progress-list.herokuapp.com/task/new-task",{method:"POST",mode:"cors",headers:{auth:a,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e.username,title:e.title,startDate:e.startDate,endDate:e.endDate})}).then((function(e){return e.json()})).then((function(e){n({type:"taskAddOne",task:e})}))}}),Object(m.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(m.jsxs)("li",{className:"nav-item dropdown",children:[Object(m.jsx)("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbardrop","data-toggle":"dropdown",children:t}),Object(m.jsx)("div",{className:"dropdown-menu ",children:Object(m.jsx)("a",{className:"dropdown-item",onClick:function(){localStorage.removeItem("token"),n({type:"logout"})},href:"#",children:"Sign out"})})]})})]})};t.default=function(e){var t=localStorage.getItem("token"),a=Object(O.c)((function(e){return e.taskList})),n=Object(O.b)();return Object(r.useEffect)((function(){fetch("https://progress-list.herokuapp.com/task/get-tasks",{method:"GET",mode:"cors",headers:{auth:t,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){n({type:"taskUpdateAll",taskList:e})}))}),[]),Object(m.jsxs)("div",{className:M.a.main,children:[Object(m.jsx)(P,{}),a.length>0?Object(m.jsx)(D,{taskList:a}):Object(m.jsx)("div",{className:M.a.title_main,children:Object(m.jsx)("p",{className:"bg-secondary",children:"Sorry,you do not have any task!"})})]})}}}]);
//# sourceMappingURL=3.4a494efb.chunk.js.map