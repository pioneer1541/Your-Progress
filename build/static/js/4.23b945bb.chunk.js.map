{"version":3,"sources":["components/UI/Button.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/UI/Button.module.css","components/Login/Login.module.css","components/Login/Login.js"],"names":["Button","props","buttonName","name","buttonType","type","buttonEvent","event","className","styles","main","onClick","emo","_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","err","o","minLen","n","prototype","toString","call","slice","constructor","from","test","TypeError","module","exports","Login","useState","username","setUsername","password","setPassword","loginError","setLoginError","errorMessage","setErrorMessage","user","setUser","dispatch","useDispatch","useEffect","token","localStorage","setItem","userIsAuth","border","title","onSubmit","preventDefault","fetch","process","method","headers","Accept","mode","body","JSON","stringify","then","res","ok","json","Error","data","catch","form","control","id","onChange","target","passwd","actions","register","href"],"mappings":"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","file":"static/js/4.23b945bb.chunk.js","sourcesContent":["import styles from \"./Button.module.css\";\r\n\r\nconst Button = (props) => {\r\n  const buttonName = props.name;\r\n  const buttonType = props.type;\r\n  const buttonEvent = props.event;\r\n  return (\r\n    <div className={styles.main}>\r\n      <button\r\n        className={\"btn btn-outline-primary\"}\r\n        type={buttonType}\r\n        onClick={buttonEvent}\r\n      >\r\n        <i className={props.emo}></i>\r\n        {buttonName}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Button_main__2cf7G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Login_main__2FpVe\",\"border\":\"Login_border__2D7YE\",\"title\":\"Login_title__1VWY9\",\"control\":\"Login_control__6BE2H\",\"form\":\"Login_form__8b7nq\",\"actions\":\"Login_actions__3l1_c\"};","import styles from \"./Login.module.css\";\r\nimport Button from \"../UI/Button\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst Login = (props) => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loginError, setLoginError] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [user, setUser] = useState({});\r\n  const dispatch = useDispatch();\r\n\r\n  const usernameHandler = (event) => {\r\n    const username = event.target.value;\r\n    setLoginError(false);\r\n    setUsername(username);\r\n  };\r\n\r\n  const passwordHandler = (event) => {\r\n    const passwd = event.target.value;\r\n    setLoginError(false);\r\n    setPassword(passwd);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!loginError) {\r\n      if (user.token) {\r\n        localStorage.setItem(\"token\", user.token);\r\n        dispatch({\r\n          type: \"login\",\r\n          userIsAuth: true,\r\n          username: user.username,\r\n        });\r\n        setLoginError(true);\r\n      }\r\n    }\r\n  }, [user]);\r\n\r\n  const loginHandler = (event) => {\r\n    event.preventDefault();\r\n    const user = {\r\n      username: username,\r\n      password: password,\r\n    };\r\n\r\n    fetch(process.env.REACT_APP_BACKEND_URL + \"/user/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      mode: \"cors\",\r\n      body: JSON.stringify(user),\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw Error;\r\n        } else {\r\n          return (res = res.json());\r\n        }\r\n      })\r\n      .then((data) => setUser(data))\r\n      .catch((err) => {\r\n        setLoginError(true);\r\n        setErrorMessage(\"username or password is incorrect!\");\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.main}>\r\n      <div className={styles.border}>\r\n        <div className={styles.title + \" text-white\"}>\r\n          <h1>Login</h1>\r\n        </div>\r\n        <div className={styles.title + \" text-white\"}>\r\n          <p>Welcome to Your Progress!</p>\r\n        </div>\r\n        <form onSubmit={loginHandler} className={styles.form}>\r\n          <label className={styles.control}>Username:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            id=\"username\"\r\n            onChange={usernameHandler}\r\n            className={styles.control}\r\n          ></input>\r\n          <label className={styles.control}>Password:</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"passwd\"\r\n            id=\"passwd\"\r\n            onChange={passwordHandler}\r\n            className={styles.control}\r\n          ></input>\r\n          {loginError && (\r\n            <div className=\"alert alert-danger\">{errorMessage}</div>\r\n          )}\r\n          <div className={styles.actions + \" my-3\"}>\r\n            <Button name=\"Sign in\" type=\"submit\"></Button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div className={styles.register + \" text-white\"}>\r\n        <p>\r\n          New to Your Progress?{\" \"}\r\n          <span>\r\n            <a className=\"text-warning\" href=\"/register\">\r\n              Sign on!\r\n            </a>\r\n          </span>\r\n        </p>\r\n      </div>\r\n      <div>Created By Vincent</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"sourceRoot":""}