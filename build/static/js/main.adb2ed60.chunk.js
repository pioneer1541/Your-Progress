(this["webpackJsonpyour-progress"]=this["webpackJsonpyour-progress"]||[]).push([[0],{23:function(e,t,s){},24:function(e,t,s){},35:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s.n(n),a=s(11),u=s.n(a),c=(s(23),s(16)),o=s(2),i=(s(24),s(9)),l=s(3),h=r.a.lazy((function(){return s.e(3).then(s.bind(null,52))})),j=r.a.lazy((function(){return s.e(4).then(s.bind(null,49))})),d=r.a.lazy((function(){return s.e(5).then(s.bind(null,50))}));var b=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.userIsAuth}));return Object(n.useEffect)((function(){if(!t){var s=localStorage.getItem("token");s&&fetch("https://progress-list.herokuapp.com/",{method:"GET",mode:"cors",headers:{auth:s,Accept:"application/json"}}).then((function(e){if(e.ok)return e.json();throw e.json()})).then((function(t){e({type:"login",userIsAuth:!0,username:t.username})})).catch((function(e){console.log(e)}))}}),[t]),Object(l.jsx)(c.a,{children:Object(l.jsx)(n.Fragment,{children:Object(l.jsxs)(n.Suspense,{fallback:Object(l.jsx)("div",{class:"spinner-border mx-auto",role:"status",children:Object(l.jsx)("span",{class:"sr-only",children:"Loading..."})}),children:[Object(l.jsx)(o.a,{exact:!0,path:"/",children:t?Object(l.jsx)(h,{}):Object(l.jsx)(j,{})}),Object(l.jsx)(o.a,{path:"/register",children:Object(l.jsx)(d,{})})]})})})},f=function(e){e&&e instanceof Function&&s.e(6).then(s.bind(null,51)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,u=t.getTTFB;s(e),n(e),r(e),a(e),u(e)}))},k=s(18),p={userIsAuth:!1,username:"",taskList:[]},g=Object(k.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login":case"logout":return{userIsAuth:t.userIsAuth,username:t.username,taskList:e.taskList};case"taskAddOne":return p;case"taskUpdateAll":return{userIsAuth:e.userIsAuth,username:e.username,taskList:t.taskList};case"taskUpdateOne":var s=e.taskList.map((function(e){return e._id===t.task?(console.log(e._id),t.taskNewData):e}));return console.log(s),{userIsAuth:e.userIsAuth,username:e.username,taskList:s};case"taskDeleteOne":console.log("task = "+t.task);var n=e.taskList.filter((function(e){return e._id!==t.task}));return{userIsAuth:e.userIsAuth,username:e.username,taskList:n}}return e}));u.a.render(Object(l.jsx)(i.a,{store:g,children:Object(l.jsx)(b,{})}),document.getElementById("root")),f()}},[[35,1,2]]]);
//# sourceMappingURL=main.adb2ed60.chunk.js.map